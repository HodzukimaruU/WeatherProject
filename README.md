# Weather App

## Описание

Приложение Weather App предназначено для отображения данных о погоде по городам. Оно позволяет пользователям искать погоду в различных городах, просматривать историю запросов, получать статистику по наиболее часто искомым городам и использовать автозаполнение при вводе названия города.

## Установка и настройка

### Требования

- Docker
- Docker Compose

### Установка

1. **Клонируйте репозиторий:**

    ```bash
    git clone git@github.com:HodzukimaruU/WetherProject.git
    cd <имя_папки_репозитория>
    ```

2. **Создайте файл `.env` в корне проекта и добавьте в него следующие переменные окружения:**

    ```env
    SECRET_KEY=<ваш__ключ>
    DEBUG_MODE=True
    DB_NAME=weather_db
    DB_HOST=db
    DB_PORT=5432
    DB_USER=<ваш пользователь>
    DB_PASSWORD=<ваш пороль>
    ```

3. **Запустите контейнеры Docker:**

    ```bash
    docker-compose up --build
    ```

4. **Примените миграции:**

    В новом терминале запустите:

    ```bash
    docker-compose exec web python WeatherProject/manage.py migrate
    ```

5. **Создайте суперпользователя (опционально):**

    ```bash
    docker-compose exec web python WeatherProject/manage.py createsuperuser
    ```

6. **Откройте приложение в браузере:**

    Перейдите по адресу [http://localhost:8000](http://localhost:8000).

## Структура проекта

- **weather/**: Основное приложение Django.
  - **migrations/**: Миграции базы данных.
  - **templates/**: Шаблоны HTML.
  - **__init__.py**: Инициализация приложения.
  - **admin.py**: Настройки админки.
  - **apps.py**: Конфигурация приложения.
  - **forms.py**: Формы для ввода данных.
  - **models.py**: Модели данных.
  - **tests.py**: Тесты для приложения.
  - **urls.py**: URL-ы приложения.
  - **views.py**: Представления для обработки запросов.
- **WeatherProject/**: Основной проект Django.
  - **__init__.py**: Инициализация проекта.
  - **asgi.py**: ASGI-конфигурация.
  - **settings.py**: Настройки проекта.
  - **urls.py**: Главные URL-ы проекта.
  - **wsgi.py**: WSGI-конфигурация.
- **Dockerfile**: Инструкция для создания Docker-образа.
- **docker-compose.yaml**: Конфигурация Docker Compose.
- **requirements.txt**: Список зависимостей Python.
- **README.md**: Этот файл.

## Использование

### Основные функции

- **Поиск погоды:** Введите название города в форму на главной странице для получения прогноза погоды.
- **История запросов:** Перейдите на страницу истории, чтобы просмотреть список всех предыдущих запросов.
- **Автозаполнение:** При вводе названия города вы получите предложения на основе предыдущих запросов.
- **Статистика городов:** Посмотрите, какие города искались чаще всего.
- **Повторный поиск:** Перейдите по ссылке для повторного поиска погоды для определенного города.

### Примечания
- Понимаю что в docker-compose сейчас есть build. Понимаю, для продашена это неправильно.
- Я сейчас залью как есть. Но сейчас поправлю, чтобы было как для продашена.


### API

- **GET /autocomplete/?q=<query>**: Возвращает список городов, начинающихся с `query`.
- **GET /repeat_search/<city>/**: Выполняет поиск погоды для указанного города и отображает результаты.

## Тестирование

Для запуска тестов используйте команду:

```bash
docker-compose exec web python WeatherProject/manage.py test
